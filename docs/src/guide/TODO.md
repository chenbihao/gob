---
lang: zh-CN
title: 待办
description: 
---
# 待办

## 梳理

- [ ] 梳理引入包
    - [ ] 梳理源码引入
    - [ ] 梳理三方库引入
- [ ] 梳理新版本 go 废弃 API，换成新的
- [ ] 统一 provider 注册方法 （`func (provider *GormProvider) Register` 里的调用 new 命名）
- [ ] 补充 command 、contract 文件开头说明文档，方便查看（甚至改成支持 doc）
    - [ ] 包括命令说明、可选配置项
- [ ] 部分 linux 内容未测试
    - [ ] 条件编译
    - [ ] 守护进程模式 `app start --daemon=true`
    - [ ] gspt 库（CGO_ENABLED=1）
- [ ] 全部代码过一遍，看看有什么问题

## 功能优化

- [ ] 脚手架优化
    - [ ] 构建后读取配置问题（生产部署时如何读取配置问题）
    - [ ] `go install` 使用的优化（编译后的命令行执行问题）
    - [ ] 文件创建相关（app 获取路径时，有些可以判断并创建）
    - [ ] 前端文件夹配置可选
        - [ ] frontendFolder 配置 可选而不是写死
        - [ ] frontendFolder/dist 可选？

- [ ] 热更新配置覆盖全部服务
- [ ] 日志
    - [ ] 同时支持多个日志输出
    - [ ] 统一优化日志打印格式
    - [ ] 可选固定 json 字段顺序打印配置（强迫症可选）
- [ ] 调试模式
    - [ ] 文件监控比服务启动还提前，编译完成前修改文件可能会导致空指针
    - [ ] swagger 热更新？热读取版本配置？
- [ ] 部署模式
    - [ ] 当断开 ssh 时服务会停止（特定问题，Manjaro 系统特有）
    - [ ] 发布自动化完善（部署备份、部署回滚）

- [ ] 将过时或停止维护的三方库换掉
    - [ ] survey 换成 bubbletea
    - [ ] github 的调用限制重构复用
    - [ ] gspt 构建出错 ， 需要交叉编译

- [ ] 业务单测的构建

- [ ] 功能支持
    - [ ] 抽取配置等魔术编码，例如 `"app.pid"` 等
    - [ ] 获取各类 Folder 时就校验并判断，而不是分散在 app 或者 cron 服务里判断
    - [ ] win 下不支持 Daemon，兼容成后台运行（appDaemon）

- [ ] 数据库重连重试机制
- [ ] cache 服务当配置了 redis，并且有 redis 相关配置时，优先读取 redis 配置

## 框架未来支持功能

- [ ] 框架模块功能
    - [ ] 远程配置中心

- [ ] 蓝图模块功能
    - [ ] 后台管理基础
    - [ ] 用户注册登录
        - [ ] RBAC 权限
        - [ ] 多租户模块
    - [ ] 博客
  - [ ] ...
  - [ ] ...
